<load target="filter/insert_group.xml" />
<load target="filter/delete_group.xml" />
<include target="_header.html" />

<form id="fo_group">
	<input type="hidden" name="group_srl" value=""/>
</form>

<table class="x_table x_table-striped x_table-hover">
	<thead>
		<tr>
			<th scope="col">{$lang->group_title}</th>
			<th scope="col">{$lang->description}</th>
			<th scope="col">{$lang->regdate}</th>
			<th scope="col">{$lang->is_default}</th>
			<th scope="col">{$lang->cmd_edit}</th>
		</tr>
	</thead>
	<tbody>
		<tr cond="!count($group_list)">
			<td colspan="5">{$lang->msg_group_is_null}</td>
		</tr>
		<tr loop="$group_list => $group_srl,$group_info">
			<td>{$group_info->title}</td>
			<td>{nl2br($group_info->description)}&nbsp;</td>
			<td>{zdate($group_info->regdate,"Y-m-d H:i:s")}</td>
			<td><!--@if($group_info->is_default=='Y')-->Y<!--@else-->&nbsp;<!--@end--></td>
			<td>
				<a href="{getUrl('group_srl',$group_info->group_srl)}" class="x_icon-wrench">{$lang->cmd_modify}</a>
				<button type="button" cond="$group_info->is_default!='Y' && $group_info->is_admin !='Y'" class="x_icon-remove" onclick="doDeleteGroup({$group_info->group_srl});return false;">{$lang->cmd_delete}</button>
			</td>
		</tr>
	</tbody>
</table>

<form action="./" method="get" onsubmit="return procFilter(this, insert_group)" class="x_form-horizontal x_well">
	<input type="hidden" name="module" value="homepage" />
	<input type="hidden" name="group_srl" value="{$selected_group->group_srl}" />
	<input type="hidden" name="is_default" value="Y" cond="$selected_group->group_srl && $selected_group->is_default == 'Y'" />
	<div class="x_control-group">
		<label for="groupTitle" class="x_control-label">{$lang->group_title}</label>
		<div class="x_controls">
			<input type="text" name="title" id="groupTitle" value="{htmlspecialchars($selected_group->title)}" class="lang_code" />
		</div>
	</div>
	<div class="x_control-group" cond="!$selected_group->group_srl || $selected_group->is_default != 'Y'">
		<label for="is_default" class="x_control-label">{$lang->is_default}</label>
		<div class="x_controls">
			<label><input type="checkbox" name="is_default" id="is_default" value="Y" checked="checked"|cond="$selected_group->is_default=='Y'" /> {$lang->about_member_default}</label>
		</div>
	</div>
	<div class="x_control-group">
		<label for="description" class="x_control-label">{$lang->description}</label>
		<div class="x_controls">
			<textarea name="description" id="description">{$selected_group->description}</textarea>
		</div>
	</div>
	<div class="btnArea">
        <a href="{getUrl('group_srl','')}" cond="$selected_group->group_srl" class="x_btn x_pull-left">{$lang->cmd_cancel}</a>
        <input type="submit" value="{$lang->cmd_modify}" cond="$selected_group->group_srl" class="x_btn x_btn-inverse" />
        <input type="submit" value="{$lang->cmd_registration}" cond="!$selected_group->group_srl" class="x_btn x_btn-primary" />
	</div>
</form>

<include target="_footer.html" />
